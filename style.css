:root{
  --bg: #f6f1ff;
  --card: rgba(205, 175, 255, 0.35);
  --outline: rgba(60,30,90,0.10);
  --outline2: rgba(60,30,90,0.08);
  --icing: #fff6ee;

  /* cute pastel cake tiers */
  --tier1: #c08a6b;
  --tier2: #d7a184;
  --tier3: #e7b59a;
}

*{ box-sizing: border-box; }

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  background: radial-gradient(900px 500px at 30% 10%, #ffffff, var(--bg));
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Times New Roman", serif;
  color:#1f1230;
}

.wrap{
  width:min(760px, 92vw);
  padding:28px 26px 30px;
  text-align:center;
  border-radius:24px;
  background: var(--card);
  border: 2px solid rgba(255,255,255,0.65);
  box-shadow: 0 18px 50px rgba(140, 90, 255, 0.18);
}

h1{
  margin:0 0 6px;
  font-size: clamp(24px, 3.2vw, 40px);
}

p{
  margin:0 0 16px;
  opacity:0.9;
}

button{
  padding: 12px 18px;
  border-radius: 14px;
  border: 0;
  cursor: pointer;
  font-weight: 800;
  background: linear-gradient(135deg, #ff9fd6, #ffd06b);
  color: #2a163d;
  box-shadow: 0 10px 20px rgba(255, 159, 214, 0.25);
  transition: transform .12s ease;
}
button:active{ transform: scale(.98); }

/* Cake wrapper */
.cake{
  position: relative;
  width: 260px;
  height: 330px;
  margin: 18px auto 0;
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.hidden{
  opacity:0;
  transform: translateY(28px) scale(.92);
  pointer-events:none;
}
.show{
  opacity:1;
  transform: translateY(0) scale(1);
}

/* Stack area so tiers + plate align */
.cake-stack{
  position:absolute;
  left:50%;
  bottom: 10px;
  transform:translateX(-50%);
  width: 260px;
  height: 270px;
}

/* Tiers */
.layer{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  height: 86px;
  border-radius: 28px;
  overflow: visible;

  border: 3px solid var(--outline);
  box-shadow: 0 10px 0 rgba(0,0,0,0.06);
}

.layer-bottom{
  bottom: 0;
  width: 240px;
  background: var(--tier1);
}

.layer-middle{
  bottom: 86px;
  width: 210px;
  background: var(--tier2);
}

.layer-top{
  bottom: 172px;
  width: 180px;
  background: var(--tier3);
}

/* Icing strip */
.layer::before{
  content:"";
  position:absolute;
  left:0;
  top:0;
  width:100%;
  height: 30px;
  background: var(--icing);
  border-radius: 999px;
  transform: translateY(-45%);
  border: 3px solid var(--outline2);
  z-index: 5;
}

/* Drips */
.icing-drip{
  position:absolute;
  top: 8px;
  width: 18px;
  background: var(--icing);
  border-radius: 0 0 14px 14px;
  z-index: 6;

  border-left: 3px solid rgba(60,30,90,0.05);
  border-right: 3px solid rgba(60,30,90,0.05);
  border-bottom: 3px solid rgba(60,30,90,0.05);
}

.drip1{ left: 20%; height: 30px; }
.drip2{ left: 48%; height: 22px; }
.drip3{ left: 75%; height: 28px; }

/* Sprinkles */
.sprinkle{
  position:absolute;
  width: 7px;
  height: 3px;
  border-radius: 10px;
  transform: rotate(18deg);
  z-index: 7;
  top: 0px;
}
.s1{ left: 25%; background:#ff6fb7; }
.s2{ left: 38%; background:#7be7ff; }
.s3{ left: 52%; background:#ffd06b; }
.s4{ left: 66%; background:#b6ff7b; }
.s5{ left: 44%; top: 16px; background:#c7a6ff; }
.s6{ left: 58%; top: 16px; background:#ff9fd6; }

/* Plate */
.plate{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom: -18px;
  width: 300px;
  height: 18px;
  background: #ad6d86;
  border-radius: 999px;
  border: 3px solid var(--outline);
  box-shadow: 0 12px 18px rgba(0,0,0,0.08);
}

/* Candles */
.candles{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom: 270px; /* sits above top tier */
  display:flex;
  gap: 14px;
  z-index: 20;
}

.candle{
  width: 14px;
  height: 44px;
  border-radius: 10px;
  position: relative;
  background: repeating-linear-gradient(45deg, #ffffff 0 6px, #ff9fd6 6px 12px);
  border: 2px solid var(--outline);
}

.flame{
  position:absolute;
  left:50%;
  top:-22px;
  transform: translateX(-50%);
  width: 14px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 35%, #fff 0%, #ffd36a 45%, #ff7a00 100%);
  animation: flicker .15s infinite alternate ease-in-out;
}
/* Confetti layer */
.confetti{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 9999;
}

.confetti .piece{
  position: absolute;
  top: -10vh;
  width: 10px;
  height: 16px;
  border-radius: 3px;
  opacity: 0.9;
  animation: confetti-fall linear forwards;
}

@keyframes confetti-fall{
  to{
    transform: translate3d(var(--dx), 115vh, 0) rotate(720deg);
  }
}

@keyframes flicker{
  from { transform: translateX(-50%) rotate(-5deg) scale(1); }
  to   { transform: translateX(-50%) rotate(5deg)  scale(1.1); }
}